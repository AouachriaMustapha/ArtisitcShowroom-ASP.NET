!function(e){e.gritter={},e.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return t.add(e||{})}catch(i){var r="Gritter Error: "+i;"undefined"!=typeof console&&console.error?console.error(r,e):alert(r)}},e.gritter.remove=function(e,i){t.removeSpecific(e,i||{})},e.gritter.removeAll=function(e){t.stop(e||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<a class="gritter-close" href="#" tabindex="1"><i class="pe pe-close"></i></a>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper" style="display:none" role="alert"><div class="gritter-item [[item_class]]">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(i){if("string"==typeof i&&(i={text:i}),null===i.text)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var r=i.title,o=i.text,s=i.image||"",n=i.sticky||!1,a=i.class_name||e.gritter.options.class_name,_=e.gritter.options.position,c=i.time||"";this._verifyWrapper(),this._item_count++;var p=this._item_count,l=this._tpl_item;e(["before_open","after_open","before_close","after_close"]).each(function(r,o){t["_"+o+"_"+p]=e.isFunction(i[o])?i[o]:function(){}}),this._custom_timer=0,c&&(this._custom_timer=c);var u=""!=s?'<div class="gritter-image-wrapper"><img src="'+s+'" class="gritter-image" /></div>':"",m=""!=s?"gritter-with-image":"gritter-without-image";if(r=r?this._str_replace("[[title]]",r,this._tpl_title):"",l=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[r,o,this._tpl_close,u,this._item_count,m,a],l),this["_before_open_"+p]()===!1)return!1;e("#gritter-notice-wrapper").addClass(_).append(l);var f=e("#gritter-item-"+this._item_count);return f.fadeIn(this.fade_in_speed,function(){t["_after_open_"+p](e(this))}),n||this._setFadeTimer(f,p),e(f).bind("mouseenter mouseleave",function(i){"mouseenter"==i.type?n||t._restoreItemIfFading(e(this),p):n||t._setFadeTimer(e(this),p),t._hoverState(e(this),i.type)}),e(f).find(".gritter-close").click(function(){return t.removeSpecific(p,{},null,!0),!1}),p},_countRemoveWrapper:function(t,i,r){i.remove(),this["_after_close_"+t](i,r),0==e(".gritter-item-wrapper").length&&e("#gritter-notice-wrapper").remove()},_fade:function(e,i,r,o){var r=r||{},s="undefined"==typeof r.fade||r.fade,n=r.speed||this.fade_out_speed,a=o;this["_before_close_"+i](e,a),o&&e.unbind("mouseenter mouseleave"),s?e.animate({opacity:0},n,function(){e.animate({height:0},300,function(){t._countRemoveWrapper(i,e,a)})}):this._countRemoveWrapper(i,e)},_hoverState:function(e,t){"mouseenter"==t?e.addClass("hover"):e.removeClass("hover")},removeSpecific:function(t,i,r,o){if(!r)var r=e("#gritter-item-"+t);this._fade(r,t,i||{},o)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in e.gritter.options)this[opt]=e.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,i){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+i]=setTimeout(function(){t._fade(e,i)},r)},stop:function(t){var i=e.isFunction(t.before_close)?t.before_close:function(){},r=e.isFunction(t.after_close)?t.after_close:function(){},o=e("#gritter-notice-wrapper");i(o),o.fadeOut(function(){e(this).remove(),r()})},_str_replace:function(e,t,i,r){var o=0,s=0,n="",a="",_=0,c=0,p=[].concat(e),l=[].concat(t),u=i,m=l instanceof Array,f=u instanceof Array;for(u=[].concat(u),r&&(this.window[r]=0),o=0,_=u.length;o<_;o++)if(""!==u[o])for(s=0,c=p.length;s<c;s++)n=u[o]+"",a=m?void 0!==l[s]?l[s]:"":l[0],u[o]=n.split(p[s]).join(a),r&&u[o]!==n&&(this.window[r]+=(n.length-u[o].length)/p[s].length);return f?u:u[0]},_verifyWrapper:function(){0==e("#gritter-notice-wrapper").length&&e("body").append(this._tpl_wrap)}}}(jQuery);